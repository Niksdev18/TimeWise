<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TimeWise | Student OS</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap');

        :root {
            --primary: #6366f1;
            --secondary: #a855f7;
            --accent: #ec4899;
            --success: #22c55e;
            --dark: #0f172a;
            --light: #f8fafc;
            --sidebar-w: 260px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body { 
            font-family: 'Outfit', sans-serif; 
            background: linear-gradient(135deg, #e0e7ff 0%, #f3e8ff 100%); 
            color: var(--dark); 
            height: 100vh; 
            overflow: hidden; 
        }

        /* --- ANIMATIONS --- */
        .fade-in { animation: fadeIn 0.5s ease forwards; opacity: 0; transform: translateY(10px); }
        @keyframes fadeIn { to { opacity: 1; transform: translateY(0); } }

        /* --- LOGIN SCREEN --- */
        #login-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            display: flex; align-items: center; justify-content: center; z-index: 999;
        }
        .login-card {
            background: rgba(255,255,255,0.95);
            padding: 50px; border-radius: 24px; width: 400px; text-align: center;
            box-shadow: 0 25px 50px -12px rgba(0,0,0,0.25);
        }
        .login-card h1 { 
            background: linear-gradient(to right, var(--primary), var(--accent));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            margin-bottom: 20px; font-size: 2.5rem;
        }
        .input-group { margin-bottom: 15px; text-align: left; }
        .input-group label { font-size: 0.8rem; font-weight: 600; color: #64748b; margin-left: 5px; }
        .input-group input { 
            width: 100%; padding: 12px; margin-top: 5px;
            border: 2px solid #e2e8f0; border-radius: 12px; 
            outline: none; transition: 0.3s; background: #f8fafc;
        }
        .btn-primary { 
            background: linear-gradient(to right, var(--primary), var(--secondary)); 
            color: white; border: none; padding: 12px 25px; 
            border-radius: 10px; font-weight: 600; cursor: pointer; 
            transition: 0.3s; width: 100%;
        }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 10px 20px -10px var(--primary); }

        /* --- MAIN LAYOUT --- */
        #app-container { display: none; flex-direction: row; height: 100vh; }

        .sidebar { 
            width: var(--sidebar-w); background: white; 
            display: flex; flex-direction: column; padding: 30px 20px; 
            border-right: 1px solid #e2e8f0; z-index: 10;
        }
        .brand { font-size: 1.5rem; font-weight: 700; color: var(--primary); margin-bottom: 40px; display: flex; gap: 10px; align-items: center; }
        .nav-item { 
            padding: 15px 20px; margin-bottom: 8px; cursor: pointer; 
            border-radius: 12px; color: #64748b; font-weight: 500;
            transition: 0.3s; display: flex; align-items: center; gap: 12px;
        }
        .nav-item:hover, .nav-item.active { background: #eef2ff; color: var(--primary); }
        .nav-footer { margin-top: auto; padding-top: 20px; border-top: 1px solid #f1f5f9; }

        .content-area { flex: 1; padding: 40px; overflow-y: auto; background: #f8fafc; }
        .section { display: none; }
        .section.active { display: block; }
        h1.page-title { margin-bottom: 20px; color: var(--dark); }

        /* --- CARDS --- */
        .card-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 25px; }
        .card { 
            background: white; padding: 25px; border-radius: 20px; 
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05); transition: 0.3s;
            cursor: pointer; position: relative; overflow: hidden;
        }
        .card:hover { transform: translateY(-5px); box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1); }

        /* --- SKILLS SECTION (NEW LEARNING HUB) --- */
        .skills-layout { display: flex; gap: 30px; height: 600px; }
        
        /* Course Sidebar */
        .course-list { width: 300px; display: flex; flex-direction: column; gap: 15px; overflow-y: auto; }
        .course-card { 
            background: white; padding: 20px; border-radius: 16px; cursor: pointer; 
            transition: 0.3s; border: 2px solid transparent; 
        }
        .course-card:hover { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(0,0,0,0.05); }
        .course-card.active { border-color: var(--primary); background: #eef2ff; }
        .course-icon { font-size: 1.5rem; margin-bottom: 10px; color: var(--primary); }
        
        /* Video Viewer */
        .course-viewer { flex: 1; background: white; border-radius: 20px; padding: 30px; display: flex; flex-direction: column; overflow-y: auto; }
        .viewer-header { border-bottom: 1px solid #f1f5f9; padding-bottom: 20px; margin-bottom: 20px; }
        .video-container { width: 100%; height: 350px; background: black; border-radius: 12px; margin-bottom: 20px; overflow: hidden; }
        .video-container iframe { width: 100%; height: 100%; border: none; }
        
        .module-list { display: flex; flex-direction: column; gap: 10px; }
        .module-item { 
            display: flex; align-items: center; justify-content: space-between; 
            padding: 15px; background: #f8fafc; border-radius: 10px; cursor: pointer; transition: 0.2s; 
        }
        .module-item:hover { background: #f1f5f9; }
        .module-left { display: flex; align-items: center; gap: 15px; }
        .play-icon { color: var(--primary); }

        /* --- PROFILE (DETAILED) --- */
        .profile-container { display: flex; gap: 30px; }
        .profile-card-main { flex: 1; background: white; padding: 30px; border-radius: 20px; text-align: center; }
        .profile-avatar { width: 120px; height: 120px; background: linear-gradient(to right, var(--primary), var(--accent)); border-radius: 50%; margin: 0 auto 20px; display: flex; align-items: center; justify-content: center; font-size: 3rem; color: white; }
        
        .profile-details-form { flex: 2; background: white; padding: 30px; border-radius: 20px; }
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .form-group label { display: block; font-size: 0.85rem; color: #64748b; margin-bottom: 5px; font-weight: 600; }
        .form-group input, .form-group select { width: 100%; padding: 10px; border: 1px solid #e2e8f0; border-radius: 8px; outline: none; background: #f8fafc; }
        .form-group input:disabled { background: #f1f5f9; color: #94a3b8; cursor: not-allowed; }
        
        .social-links { display: flex; justify-content: center; gap: 15px; margin-top: 20px; }
        .social-btn { width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; transition: 0.3s; text-decoration: none; }
        .sb-linkedin { background: #0077b5; } .sb-github { background: #333; } .sb-leetcode { background: #fea116; }

        /* --- CODING ARENA --- */
        .coding-layout { display: flex; gap: 20px; height: 600px; }
        .problem-list { width: 30%; background: white; border-radius: 16px; padding: 20px; overflow-y: auto; }
        .problem-item { padding: 15px; border-bottom: 1px solid #f1f5f9; cursor: pointer; transition: 0.2s; }
        .problem-item:hover { background: #f8fafc; }
        .badge { font-size: 0.75rem; padding: 2px 8px; border-radius: 4px; font-weight: 600; display: inline-block; margin-top: 5px; }
        .badge-easy { background: #dcfce7; color: #166534; }
        .badge-med { background: #fef9c3; color: #854d0e; }
        .badge-hard { background: #fee2e2; color: #991b1b; }

        .editor-wrapper { flex: 1; display: flex; flex-direction: column; gap: 15px; }
        .code-box { flex: 1; background: #1e1e1e; border-radius: 16px; display: flex; flex-direction: column; overflow: hidden; }
        #code-area { flex: 1; background: #1e1e1e; color: #d4d4d4; padding: 20px; border: none; font-family: 'Consolas', monospace; font-size: 1rem; resize: none; outline: none; }

        /* --- RELAXATION --- */
        .zen-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; }
        .breathe-circle { width: 200px; height: 200px; border-radius: 50%; background: rgba(99, 102, 241, 0.2); margin: 0 auto; display: flex; align-items: center; justify-content: center; position: relative; }
        .breathe-inner { width: 180px; height: 180px; background: var(--primary); border-radius: 50%; color: white; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; transition: all 4s ease-in-out; }
        .breathing .breathe-inner { transform: scale(1.2); }
        .breathing .breathe-circle { transform: scale(1.1); }
        
        .sound-btn { display: flex; align-items: center; justify-content: space-between; padding: 15px; background: white; border-radius: 12px; margin-bottom: 10px; cursor: pointer; transition: 0.2s; border: 1px solid transparent; }
        .sound-btn:hover { border-color: var(--primary); background: #f8fafc; }
        .sound-btn.playing { background: #eef2ff; border-color: var(--primary); color: var(--primary); }

    </style>
</head>
<body>

    <div id="login-screen">
        <div class="login-card">
            <h1>TimeWise</h1>
            <p style="color:#64748b; margin-bottom: 20px;">Student Operating System</p>
            <div class="input-group">
                <label>Username</label>
                <input type="text" id="login-user" placeholder="Enter username">
            </div>
            <div class="input-group">
                <label>Password</label>
                <input type="password" id="login-pass" placeholder="Enter password">
            </div>
            <button class="btn-primary" onclick="handleLogin()">Login</button>
            <p id="login-error" style="color:red; font-size:0.8rem; margin-top:10px; display:none;">Invalid Credentials</p>
        </div>
    </div>

    <div id="app-container">
        
        <div class="sidebar">
            <div class="brand"><i class="fas fa-bolt"></i> TimeWise</div>
            <div class="nav-item active" onclick="nav('dashboard')"><i class="fas fa-home"></i> Dashboard</div>
            <div class="nav-item" onclick="nav('skills')"><i class="fas fa-graduation-cap"></i> Learning Hub</div>
            <div class="nav-item" onclick="nav('coding')"><i class="fas fa-code"></i> Coding Arena</div>
            <div class="nav-item" onclick="nav('profile')"><i class="fas fa-user-circle"></i> Profile</div>
            <div class="nav-item" onclick="nav('relax')"><i class="fas fa-spa"></i> Relax Zone</div>
            <div class="nav-item" onclick="nav('hobbies')"><i class="fas fa-palette"></i> Hobbies</div>
            <div class="nav-footer">
                <div class="nav-item" onclick="logout()" style="color:#ef4444;"><i class="fas fa-sign-out-alt"></i> Logout</div>
            </div>
        </div>

        <div class="content-area">
            
            <div id="dashboard" class="section active fade-in">
                <h1 class="page-title">Welcome Back, <span id="dash-name">Student</span>!</h1>
                <div class="card-grid">
                    <div class="card" onclick="nav('coding')">
                        <h3><i class="fas fa-fire" style="color:#f59e0b"></i> Daily Streak</h3>
                        <p>You've coded for <strong>5 days</strong> in a row!</p>
                    </div>
                    <div class="card" onclick="nav('relax')">
                        <h3><i class="fas fa-moon" style="color:#6366f1"></i> Mental State</h3>
                        <p>Status: <strong>Focused</strong>. Take a break in 20m.</p>
                    </div>
                    <div class="card" onclick="nav('skills')">
                        <h3><i class="fas fa-book-open" style="color:#22c55e"></i> Resume Learning</h3>
                        <p>Continue: <strong>Python OOP</strong> module.</p>
                    </div>
                </div>
            </div>

            <div id="skills" class="section fade-in">
                <h1 class="page-title">Learning Hub</h1>
                <div class="skills-layout">
                    
                    <div class="course-list">
                        <div class="course-card active" onclick="loadCourse('python', this)">
                            <div class="course-icon"><i class="fab fa-python"></i></div>
                            <h3>Python Mastery</h3>
                            <p style="font-size:0.8rem; color:#666">Beginner to Advanced</p>
                            <div style="height:4px; width:100%; background:#eee; margin-top:10px; border-radius:2px;"><div style="width:40%; height:100%; background:var(--primary); border-radius:2px;"></div></div>
                        </div>

                        <div class="course-card" onclick="loadCourse('web', this)">
                            <div class="course-icon"><i class="fab fa-react"></i></div>
                            <h3>Full Stack Web</h3>
                            <p style="font-size:0.8rem; color:#666">MERN Stack Guide</p>
                            <div style="height:4px; width:100%; background:#eee; margin-top:10px; border-radius:2px;"><div style="width:10%; height:100%; background:var(--secondary); border-radius:2px;"></div></div>
                        </div>

                        <div class="course-card" onclick="loadCourse('ds', this)">
                            <div class="course-icon"><i class="fas fa-chart-pie"></i></div>
                            <h3>Data Science</h3>
                            <p style="font-size:0.8rem; color:#666">Pandas & ML</p>
                            <div style="height:4px; width:100%; background:#eee; margin-top:10px; border-radius:2px;"><div style="width:0%; height:100%; background:var(--accent); border-radius:2px;"></div></div>
                        </div>
                    </div>

                    <div class="course-viewer">
                        <div class="viewer-header">
                            <h2 id="course-title">Python Mastery</h2>
                            <p id="course-desc" style="color:#666">Master Python from scratch.</p>
                        </div>

                        <div class="video-container">
                            <iframe id="course-video" src="https://www.youtube.com/embed/_uQrJ0TkZlc" allowfullscreen></iframe>
                        </div>

                        <h3>Curriculum Modules</h3>
                        <div class="module-list" id="module-list">
                            </div>
                    </div>
                </div>
            </div>

            <div id="profile" class="section fade-in">
                <h1 class="page-title">My Profile</h1>
                <div class="profile-container">
                    <div class="profile-card-main">
                        <div class="profile-avatar"><i class="fas fa-user"></i></div>
                        <h2 id="display-fullname">Student Name</h2>
                        <p style="color:#64748b; margin-bottom:15px;">Computer Science Student</p>
                        <div class="social-links">
                            <a href="#" class="social-btn sb-linkedin" id="link-linkedin" target="_blank"><i class="fab fa-linkedin-in"></i></a>
                            <a href="#" class="social-btn sb-github" id="link-github" target="_blank"><i class="fab fa-github"></i></a>
                            <a href="#" class="social-btn sb-leetcode" id="link-leetcode" target="_blank"><i class="fas fa-code"></i></a>
                        </div>
                    </div>

                    <div class="profile-details-form">
                        <div style="display:flex; justify-content:space-between; margin-bottom:20px;">
                            <h3>Personal Details</h3>
                            <button class="btn-primary" style="width:auto; padding:8px 20px;" onclick="toggleEdit()" id="edit-btn">Edit Profile</button>
                        </div>
                        
                        <div class="form-grid">
                            <div class="form-group">
                                <label>Full Name</label>
                                <input type="text" id="p-name" value="Student Name" disabled>
                            </div>
                            <div class="form-group">
                                <label>Gender</label>
                                <select id="p-gender" disabled>
                                    <option>Male</option>
                                    <option>Female</option>
                                    <option>Other</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Email Address</label>
                                <input type="email" id="p-email" value="student@college.edu" disabled>
                            </div>
                            <div class="form-group">
                                <label>Phone Number</label>
                                <input type="text" id="p-phone" value="+91 98765 43210" disabled>
                            </div>
                            <div class="form-group">
                                <label>LinkedIn URL</label>
                                <input type="text" id="p-li" value="linkedin.com/in/user" disabled>
                            </div>
                            <div class="form-group">
                                <label>LeetCode ID</label>
                                <input type="text" id="p-lc" value="leetcode.com/user" disabled>
                            </div>
                            <div class="form-group" style="grid-column: span 2;">
                                <label>Bio</label>
                                <input type="text" id="p-bio" value="Passionate about AI/ML and Web Development." disabled>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="coding" class="section fade-in">
                <h1 class="page-title">Coding Arena</h1>
                <div class="coding-layout">
                    <div class="problem-list" id="problem-list">
                        </div>
                    <div class="editor-wrapper">
                        <div style="background:white; padding:20px; border-radius:16px;">
                            <h2 id="q-title">Select a Problem</h2>
                            <span id="q-badge" class="badge badge-easy" style="display:none">Easy</span>
                            <p id="q-desc" style="margin-top:10px; color:#64748b;">Choose a problem from the list to start solving.</p>
                        </div>
                        <div class="code-box">
                            <div style="padding:10px 20px; background:#2d2d2d; color:#aaa; font-size:0.8rem;">main.py</div>
                            <textarea id="code-area" spellcheck="false"></textarea>
                            <button class="btn-primary" style="margin:10px; width:150px; align-self:flex-end;" onclick="alert('Code Submitted!')">Run Code</button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="relax" class="section fade-in">
                <h1 class="page-title">Relaxation Zone</h1>
                <div class="zen-grid">
                    
                    <div class="card" style="text-align:center; display:flex; flex-direction:column; justify-content:center;">
                        <h3>4-7-8 Breathing</h3>
                        <p style="margin-bottom:30px; color:#64748b;">Inhale (4s) - Hold (7s) - Exhale (8s)</p>
                        <div class="breathe-circle" id="breathe-circle">
                            <div class="breathe-inner" id="breathe-text">Start</div>
                        </div>
                        <button class="btn-primary" style="margin-top:30px; width:auto; align-self:center;" onclick="toggleBreathing()">Toggle Session</button>
                    </div>

                    <div class="card">
                        <h3>Ambient Soundboard</h3>
                        <p style="margin-bottom:20px;">Click to toggle sounds.</p>
                        
                        <div class="sound-btn" onclick="toggleSound(this)">
                            <span><i class="fas fa-cloud-rain" style="margin-right:10px;"></i> Heavy Rain</span>
                            <i class="fas fa-play status-icon"></i>
                        </div>
                        <div class="sound-btn" onclick="toggleSound(this)">
                            <span><i class="fas fa-tree" style="margin-right:10px;"></i> Forest Birds</span>
                            <i class="fas fa-play status-icon"></i>
                        </div>
                        <div class="sound-btn" onclick="toggleSound(this)">
                            <span><i class="fas fa-fire" style="margin-right:10px;"></i> Crackling Fire</span>
                            <i class="fas fa-play status-icon"></i>
                        </div>
                        <div class="sound-btn" onclick="toggleSound(this)">
                            <span><i class="fas fa-water" style="margin-right:10px;"></i> Ocean Waves</span>
                            <i class="fas fa-play status-icon"></i>
                        </div>
                    </div>
                </div>
            </div>

            <div id="hobbies" class="section fade-in">
                <h1 class="page-title">Hobbies</h1>
                <div class="card-grid">
                    <div class="card"><img src="https://images.unsplash.com/photo-1516035069371-29a1b244cc32?w=500" style="width:100%; border-radius:10px; margin-bottom:10px;"><h3>Photography</h3></div>
                    <div class="card"><img src="https://images.unsplash.com/photo-1455390582262-044cdead277a?w=500" style="width:100%; border-radius:10px; margin-bottom:10px;"><h3>Writing</h3></div>
                    <div class="card"><img src="https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=500" style="width:100%; border-radius:10px; margin-bottom:10px;"><h3>Music</h3></div>
                </div>
            </div>

        </div>
    </div>

    <script>
        // --- 1. COURSE DATA (from V4) ---
        const courses = {
            'python': {
                title: "Python Mastery",
                desc: "Complete guide to Python 3. From basics to OOP.",
                video: "https://www.youtube.com/embed/_uQrJ0TkZlc",
                modules: [
                    { title: "1. Python Setup & Hello World", duration: "10m" },
                    { title: "2. Variables & Data Types", duration: "15m" },
                    { title: "3. Conditionals & Loops", duration: "20m" },
                    { title: "4. Functions & Modules", duration: "25m" }
                ]
            },
            'web': {
                title: "Full Stack Web Dev",
                desc: "HTML, CSS, JS, and React in one go.",
                video: "https://www.youtube.com/embed/zJSY8tbf_ys",
                modules: [
                    { title: "1. HTML5 Basics", duration: "12m" },
                    { title: "2. CSS3 Flexbox & Grid", duration: "18m" },
                    { title: "3. JavaScript ES6+", duration: "30m" },
                    { title: "4. Intro to React", duration: "25m" }
                ]
            },
            'ds': {
                title: "Data Science Bootcamp",
                desc: "Analyze data with Pandas and NumPy.",
                video: "https://www.youtube.com/embed/ua-CiDNNj30",
                modules: [
                    { title: "1. Intro to Data Science", duration: "10m" },
                    { title: "2. NumPy Arrays", duration: "20m" },
                    { title: "3. Pandas DataFrames", duration: "25m" },
                    { title: "4. Matplotlib Visualization", duration: "15m" }
                ]
            }
        };

        // --- 2. CODING PROBLEMS (from V3) ---
        const questions = [
            { id: 1, title: "Two Sum", diff: "Easy", desc: "Given an array of integers nums and an integer target, return indices of the two numbers such that they add up to target.", code: "def twoSum(nums, target):\n    pass" },
            { id: 2, title: "Valid Palindrome", diff: "Easy", desc: "Check if string is a palindrome after ignoring non-alphanumeric characters.", code: "def isPalindrome(s):\n    pass" },
            { id: 3, title: "Reverse Linked List", diff: "Easy", desc: "Reverse a singly linked list.", code: "def reverseList(head):\n    pass" },
            { id: 4, title: "3Sum", diff: "Medium", desc: "Find unique triplets that sum to zero.", code: "def threeSum(nums):\n    pass" },
            { id: 5, title: "Longest Substring", diff: "Medium", desc: "Find length of longest substring without repeats.", code: "def lengthOfLongestSubstring(s):\n    pass" },
            { id: 6, title: "Container With Most Water", diff: "Medium", desc: "Find max area between two lines.", code: "def maxArea(height):\n    pass" },
            { id: 7, title: "Merge K Sorted Lists", diff: "Hard", desc: "Merge k sorted linked lists.", code: "def mergeKLists(lists):\n    pass" },
            { id: 8, title: "Trapping Rain Water", diff: "Hard", desc: "Compute trapped water in elevation map.", code: "def trap(height):\n    pass" },
            { id: 9, title: "Median of Arrays", diff: "Hard", desc: "Find median of two sorted arrays.", code: "def findMedianSortedArrays(nums1, nums2):\n    pass" },
            { id: 10, title: "Climbing Stairs", diff: "Easy", desc: "Count distinct ways to climb n stairs.", code: "def climbStairs(n):\n    pass" }
        ];

        // --- 3. LOGIN LOGIC ---
        function handleLogin() {
            const u = document.getElementById('login-user').value;
            const p = document.getElementById('login-pass').value;
            if(u && p) {
                document.getElementById('login-screen').style.display = 'none';
                document.getElementById('app-container').style.display = 'flex';
                document.getElementById('dash-name').innerText = u;
                document.getElementById('p-name').value = u;
                document.getElementById('display-fullname').innerText = u;
                
                // Init Features
                initCoding();
                loadCourse('python', document.querySelector('.course-card')); // Init Skills
            } else {
                document.getElementById('login-error').style.display = 'block';
            }
        }
        function logout() { location.reload(); }

        // --- 4. NAVIGATION ---
        function nav(id) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            
            // Map IDs to nav items for highlighting
            const map = {'dashboard':0, 'skills':1, 'coding':2, 'profile':3, 'relax':4, 'hobbies':5};
            document.querySelectorAll('.nav-item')[map[id]].classList.add('active');
        }

        // --- 5. SKILLS LOGIC (NEW) ---
        function loadCourse(id, cardElement) {
            // Highlight sidebar
            document.querySelectorAll('.course-card').forEach(c => c.classList.remove('active'));
            if(cardElement) cardElement.classList.add('active');

            const data = courses[id];
            document.getElementById('course-title').innerText = data.title;
            document.getElementById('course-desc').innerText = data.desc;
            document.getElementById('course-video').src = data.video;

            const mList = document.getElementById('module-list');
            mList.innerHTML = "";
            data.modules.forEach(m => {
                mList.innerHTML += `
                    <div class="module-item">
                        <div class="module-left">
                            <i class="fas fa-play-circle play-icon"></i>
                            <span>${m.title}</span>
                        </div>
                        <span style="font-size:0.8rem; color:#666">${m.duration}</span>
                    </div>
                `;
            });
        }

        // --- 6. CODING LOGIC (RESTORED) ---
        function initCoding() {
            const list = document.getElementById('problem-list');
            list.innerHTML = "";
            questions.forEach(q => {
                const dClass = q.diff === 'Easy' ? 'badge-easy' : (q.diff === 'Medium' ? 'badge-med' : 'badge-hard');
                list.innerHTML += `
                    <div class="problem-item" onclick="loadQ(${q.id})">
                        <div style="font-weight:600; margin-bottom:5px;">${q.id}. ${q.title}</div>
                        <span class="badge ${dClass}">${q.diff}</span>
                    </div>
                `;
            });
        }
        function loadQ(id) {
            const q = questions.find(x => x.id === id);
            document.getElementById('q-title').innerText = q.title;
            document.getElementById('q-desc').innerText = q.desc;
            document.getElementById('code-area').value = q.code;
            
            const badge = document.getElementById('q-badge');
            badge.style.display = 'inline-block';
            badge.innerText = q.diff;
            badge.className = `badge ${q.diff === 'Easy' ? 'badge-easy' : (q.diff === 'Medium' ? 'badge-med' : 'badge-hard')}`;
        }

        // --- 7. PROFILE LOGIC (RESTORED) ---
        let isEditing = false;
        function toggleEdit() {
            isEditing = !isEditing;
            const inputs = document.querySelectorAll('.form-group input, .form-group select');
            const btn = document.getElementById('edit-btn');
            
            if(isEditing) {
                inputs.forEach(i => i.disabled = false);
                btn.innerText = "Save Changes";
                btn.style.background = "#22c55e"; 
            } else {
                inputs.forEach(i => i.disabled = true);
                btn.innerText = "Edit Profile";
                btn.style.background = "linear-gradient(to right, var(--primary), var(--secondary))";
                // Updates
                document.getElementById('display-fullname').innerText = document.getElementById('p-name').value;
                document.getElementById('link-linkedin').href = "https://" + document.getElementById('p-li').value;
            }
        }

        // --- 8. RELAX LOGIC (RESTORED) ---
        let breathing = false;
        function toggleBreathing() {
            const circle = document.getElementById('breathe-circle');
            const text = document.getElementById('breathe-text');
            if(!breathing) {
                breathing = true;
                text.innerText = "Inhale";
                circle.classList.add('breathing');
                breatheLoop(text);
            } else {
                breathing = false;
                text.innerText = "Start";
                circle.classList.remove('breathing');
            }
        }
        function breatheLoop(text) {
            if(!breathing) return;
            text.innerText = "Inhale (4s)";
            setTimeout(() => {
                if(breathing) text.innerText = "Hold (7s)";
                setTimeout(() => {
                    if(breathing) text.innerText = "Exhale (8s)";
                    setTimeout(() => {
                        if(breathing) breatheLoop(text);
                    }, 8000);
                }, 7000);
            }, 4000);
        }

        function toggleSound(btn) {
            const icon = btn.querySelector('.status-icon');
            if(btn.classList.contains('playing')) {
                btn.classList.remove('playing');
                icon.className = 'fas fa-play status-icon';
            } else {
                document.querySelectorAll('.sound-btn').forEach(b => {
                    b.classList.remove('playing');
                    b.querySelector('.status-icon').className = 'fas fa-play status-icon';
                });
                btn.classList.add('playing');
                icon.className = 'fas fa-pause status-icon';
            }
        }

    </script>
</body>
</html>